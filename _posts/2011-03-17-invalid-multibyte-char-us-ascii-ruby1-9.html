--- 
layout: post
title: invalid multibyte char (US-ASCII) ruby1.9
tags: 
- issues
- Ruby&amp;Rails
- ruby1.9
status: publish
type: post
published: true
meta: 
  _oembed_6077656b82aabc16dafd000e782ec639: "{{unknown}}"
  _edit_lock: "1302918270"
  _edit_last: "1"
  dsq_thread_id: "256569926"
  _oembed_a5fbb6f8bf423555535d6a045c419aeb: "{{unknown}}"
---
ruby1.9+rails3在helper方法中写中文时，出现invalid multibyte char (US-ASCII)异常了，查了下，原来ruby1.9是用ASCII编码来读源码的，奇怪。
解决办法是在文件的第一行加上
[cc]
# encoding: utf-8
[/cc]

rails3中确定application.rb中有：
[cc lang="ruby"]
# Configure the default encoding used in templates for Ruby 1.9.
config.encoding = "utf-8"
[/cc]

阅读下面的文章：

http://blog.grayproductions.net/articles/ruby_19s_three_default_encodings
http://blog.grayproductions.net/articles/understanding_m17n
